(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3103670b"],{3853:function(t,a,i){"use strict";i.r(a);var s=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",[i("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}},[i("div",{staticClass:"loadingio-spinner-eclipse-lg0fund9b9s"},[i("div",{staticClass:"ldio-lwdwtvp1lzs"},[i("div")])])]),i("section",{staticClass:"cartBanner"}),i("section",{staticClass:"cart"},[i("div",{staticClass:"cartContent"},[t._m(0),i("div",{staticClass:"outer"},[t.carts.length?i("span",[i("div",{staticClass:"d-flex justify-content-end"},[i("button",{staticClass:"btn btn-outline-danger mb-3 p-2",attrs:{type:"button"},on:{click:t.delAllProducts}},[t._v("全部刪除")])]),i("div",{staticClass:"tableOuter"},[i("table",{staticClass:"table"},[t._m(1),t._l(t.carts,(function(a){return i("tr",{key:a.product.id+1},[i("td",[i("img",{attrs:{src:a.product.imageUrl,alt:"商品圖片"}})]),i("td",{staticStyle:{"text-align":"left"}},[t._v(t._s(a.product.title))]),i("td",[i("div",{staticClass:"number"},[i("button",{staticClass:"btn btn-outline-primary rounded-0 px-3",attrs:{type:"button",disabled:1==a.quantity},on:{click:function(i){a.quantity--,t.updateQuantity(a.product.id,a.quantity)}}},[t._v("-")]),i("input",{directives:[{name:"model",rawName:"v-model",value:a.quantity,expression:"item.quantity"}],staticClass:"num",attrs:{type:"number",value:"1",min:"1"},domProps:{value:a.quantity},on:{change:function(i){return t.updateQuantity(a.product.id,a.quantity)},input:function(i){i.target.composing||t.$set(a,"quantity",i.target.value)}}}),i("button",{staticClass:"btn btn-outline-primary rounded-0 px-3",attrs:{type:"button"},on:{click:function(i){a.quantity++,t.updateQuantity(a.product.id,a.quantity)}}},[t._v("+")])])]),i("td",{staticStyle:{"text-align":"right"}},[t._v(t._s(t._f("money")(a.quantity*a.product.price)))]),i("td",{staticStyle:{"text-align":"center"}},[i("div",{staticClass:"delete",on:{click:function(i){return t.delProduct(a.product.id)}}},[i("i",{staticClass:"far fa-trash-alt"})])])])})),i("tr",{staticClass:"total"},[i("td",{attrs:{colspan:"3"}},[t._v("共 "+t._s(t.carts.length)+" 件")]),i("td",[t._v("總計")]),i("td",{attrs:{width:"200px"}},[t._v(t._s(t._f("money")(t.cartTotal)))])])],2)]),i("div",{staticClass:"otherBtn"},[i("router-link",{staticClass:"prev",attrs:{to:"/products"}},[t._v("繼續選購")]),i("router-link",{staticClass:"btn btn-danger p-3",attrs:{to:"/carts_step2"}},[t._v("填寫訂購資料")])],1)]):i("span",{staticClass:"d-block text-center py-5 text-primary font-weight-bold h3"},[t._v("購物車尚未有商品"),i("router-link",{staticClass:"btn btn-outline-primary ml-4 p-3",attrs:{to:"/products"}},[t._v("前往購物")])],1)])])])],1)},e=[function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("ul",{staticClass:"step_step1"},[i("li",{staticClass:"step1"},[i("p",{staticClass:"title"},[t._v("STEP"),i("span",[t._v("1")])]),i("p",{staticClass:"text"},[t._v("確認購物清單")])]),i("i",{staticClass:"fas fa-chevron-circle-right front"}),i("li",{staticClass:"step2"},[i("p",{staticClass:"title"},[t._v("STEP"),i("span",[t._v("2")])]),i("p",{staticClass:"text"},[t._v("填寫訂購資料")])]),i("i",{staticClass:"fas fa-chevron-circle-right front"}),i("li",{staticClass:"step3"},[i("p",{staticClass:"title"},[t._v("STEP"),i("span",[t._v("3")])]),i("p",{staticClass:"text"},[t._v("付款/完成訂單")])])])},function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("tr",[i("th",{staticStyle:{"text-align":"left",width:"200px"}},[t._v("產品圖")]),i("th",{staticClass:"text-center",staticStyle:{width:"250px"}},[t._v("產品名")]),i("th",{staticClass:"text-center"},[t._v("數量")]),i("th",{staticStyle:{"text-align":"right",width:"200px"}},[t._v("價格")]),i("th",{staticStyle:{"text-align":"center"}},[t._v("刪除")])])}],n=(i("99af"),i("4160"),i("159b"),{data:function(){return{carts:[],cartTotal:0,isLoading:!1}},methods:{getcart:function(){var t=this;this.isLoading=!0;var a="".concat("https://course-ec-api.hexschool.io/api/").concat("b894194b-255d-4873-ad18-cecd22084198","/ec/shopping");this.axios.get(a).then((function(a){t.carts=a.data.data,t.updateTotal(),t.isLoading=!1})).catch((function(){t.isLoading=!1}))},updateTotal:function(){var t=this;this.cartTotal=0,this.carts.forEach((function(a){t.cartTotal+=a.product.price*a.quantity}))},updateQuantity:function(t,a){var i=this,s="".concat("https://course-ec-api.hexschool.io/api/").concat("b894194b-255d-4873-ad18-cecd22084198","/ec/shopping"),e={product:t,quantity:a};this.axios.patch(s,e).then((function(){i.getcart()})).catch((function(){}))},delProduct:function(t){var a=this;this.isLoading=!0;var i="".concat("https://course-ec-api.hexschool.io/api/").concat("b894194b-255d-4873-ad18-cecd22084198","/ec/shopping/").concat(t);this.axios.delete(i).then((function(){a.getcart(),a.$bus.$emit("message","刪除成功","success"),a.isLoading=!1})).catch((function(){a.isLoading=!1}))},delAllProducts:function(){var t=this;this.isLoading=!0;var a="".concat("https://course-ec-api.hexschool.io/api/").concat("b894194b-255d-4873-ad18-cecd22084198","/ec/shopping/all/product");this.axios.delete(a).then((function(){t.getcart(),t.$bus.$emit("message","購物車已清空","success"),t.isLoading=!1})).catch((function(){t.isLoading=!1}))}},created:function(){this.getcart()}}),c=n,o=i("2877"),r=Object(o["a"])(c,s,e,!1,null,null,null);a["default"]=r.exports},"99af":function(t,a,i){"use strict";var s=i("23e7"),e=i("d039"),n=i("e8b5"),c=i("861d"),o=i("7b0b"),r=i("50c4"),l=i("8418"),u=i("65f0"),d=i("1dde"),p=i("b622"),h=i("2d00"),v=p("isConcatSpreadable"),f=9007199254740991,g="Maximum allowed index exceeded",b=h>=51||!e((function(){var t=[];return t[v]=!1,t.concat()[0]!==t})),_=d("concat"),y=function(t){if(!c(t))return!1;var a=t[v];return void 0!==a?!!a:n(t)},C=!b||!_;s({target:"Array",proto:!0,forced:C},{concat:function(t){var a,i,s,e,n,c=o(this),d=u(c,0),p=0;for(a=-1,s=arguments.length;a<s;a++)if(n=-1===a?c:arguments[a],y(n)){if(e=r(n.length),p+e>f)throw TypeError(g);for(i=0;i<e;i++,p++)i in n&&l(d,p,n[i])}else{if(p>=f)throw TypeError(g);l(d,p++,n)}return d.length=p,d}})}}]);
//# sourceMappingURL=chunk-3103670b.b4da2ab1.js.map
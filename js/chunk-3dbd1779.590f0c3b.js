(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3dbd1779"],{1799:function(t,a,s){"use strict";var i=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("nav",{attrs:{"aria-label":"Page navigation example"}},[s("ul",{staticClass:"pagination"},[s("li",{staticClass:"page-item",class:{disabled:1===t.pages.current_page}},[s("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.updatePage(t.pages.current_page-1)}}},[t._v("Previous")])]),t._l(t.pages.total_pages,(function(a){return s("li",{key:a,staticClass:"page-item",class:{active:t.pages.current_page===a}},[s("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.updatePage(a)}}},[t._v(t._s(a))])])})),s("li",{staticClass:"page-item",class:{disabled:t.pages.current_page===t.pages.total_pages}},[s("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.updatePage(t.pages.current_page+1)}}},[t._v("Next")])])],2)])])},e=[],n={props:["pages"],methods:{updatePage:function(t){this.$emit("update",t)}}},c=n,r=s("2877"),o=Object(r["a"])(c,i,e,!1,null,null,null);a["a"]=o.exports},"86ee":function(t,a,s){},"99af":function(t,a,s){"use strict";var i=s("23e7"),e=s("d039"),n=s("e8b5"),c=s("861d"),r=s("7b0b"),o=s("50c4"),d=s("8418"),u=s("65f0"),p=s("1dde"),l=s("b622"),v=s("2d00"),g=l("isConcatSpreadable"),f=9007199254740991,h="Maximum allowed index exceeded",m=v>=51||!e((function(){var t=[];return t[g]=!1,t.concat()[0]!==t})),C=p("concat"),b=function(t){if(!c(t))return!1;var a=t[g];return void 0!==a?!!a:n(t)},_=!m||!C;i({target:"Array",proto:!0,forced:_},{concat:function(t){var a,s,i,e,n,c=r(this),p=u(c,0),l=0;for(a=-1,i=arguments.length;a<i;a++)if(n=-1===a?c:arguments[a],b(n)){if(e=o(n.length),l+e>f)throw TypeError(h);for(s=0;s<e;s++,l++)s in n&&d(p,l,n[s])}else{if(l>=f)throw TypeError(h);d(p,l++,n)}return p.length=l,p}})},a05b:function(t,a,s){"use strict";s("86ee")},d2f1:function(t,a,s){"use strict";s.r(a);var i=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}},[s("div",{staticClass:"loadingio-spinner-eclipse-lg0fund9b9s"},[s("div",{staticClass:"ldio-lwdwtvp1lzs"},[s("div")])])]),s("section",{staticClass:"product"},[s("div",{staticClass:"container"},[s("div",{staticClass:"productContent"},[s("div",{staticClass:"pic"},[s("img",{attrs:{src:t.product.imageUrl[0],alt:"商品圖片"}})]),s("div",{staticClass:"info"},[s("div",{staticClass:"textContent"},[s("h2",{staticClass:"title"},[t._v(t._s(t.product.title))]),s("p",{staticClass:"description"},[t._v(t._s(t.product.description))])]),s("div",{staticClass:"addProduct"},[s("div",{staticClass:"number"},[s("button",{staticClass:"btn btn-outline-primary rounded-0 p-3",attrs:{type:"button",disabled:1===t.product.num},on:{click:function(a){t.product.num--}}},[t._v("-")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.product.num,expression:"product.num"}],staticClass:"num",attrs:{type:"number",min:"1"},domProps:{value:t.product.num},on:{input:function(a){a.target.composing||t.$set(t.product,"num",a.target.value)}}}),s("button",{staticClass:"btn btn-outline-primary rounded-0 p-3",on:{click:function(a){t.product.num++}}},[t._v("+")])]),s("div",{staticClass:"price"},[t._v(t._s(t._f("money")(t.product.num*t.product.price)))]),s("div",{staticClass:"addbtn",on:{click:function(a){return t.addToCart(t.product.id,t.product.num)}}},[t._v("加入購物車")])])]),s("div",{staticClass:"back"},[s("i",{staticClass:"fas fa-angle-left"}),s("router-link",{staticClass:"span",attrs:{to:"/products"}},[t._v("Back")])],1)])])]),s("section",{staticClass:"type"},[s("div",{staticClass:"container"},[t._m(0),s("div",{staticClass:"swiperOuter"},[s("div",{staticClass:"swiper-container",attrs:{id:"swiper5"}},[s("div",{staticClass:"swiper-wrapper"},t._l(t.filter,(function(a){return s("div",{key:a.id+1,staticClass:"swiper-slide"},[s("ul",{staticClass:"paintingContent"},[s("li",[s("div",{staticClass:"img"},[s("img",{attrs:{src:a.imageUrl,alt:"商品圖片"}})]),s("a",{staticClass:"more",attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.jump(a)}}},[t._v("查看更多")]),s("div",{staticClass:"tag"},[t._v(t._s(a.category))]),s("div",{staticClass:"content"},[s("h2",[t._v(t._s(a.title))]),s("div",{staticClass:"addtoCart"},[s("div",{staticClass:"price"},[t._v(t._s(t._f("money")(a.price)))]),s("button",{staticClass:"btn",attrs:{type:"button"},on:{click:function(s){return t.addToCart(a.id)}}},[t._v("加入購物車")])])])])])])})),0)]),s("div",{staticClass:"swiper-button-next swiper5"}),s("div",{staticClass:"swiper-button-prev swiper5"}),s("Pagination",{staticClass:"pagination justify-content-center",attrs:{pages:t.pagination},on:{update:t.getProducts}})],1)])])],1)},e=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"title"},[s("h2",{staticClass:"twTitle"},[t._v("同"),s("span",[t._v("類型畫作")])]),s("h2",{staticClass:"enTitle"},[t._v("S"),s("span",[t._v("ame type")])])])}],n=(s("99af"),s("4de4"),s("1799")),c={components:{Pagination:n["a"]},data:function(){return{products:[],product:{imageUrl:[]},isLoading:!1,pagination:{},carts:[]}},methods:{getProducts:function(){var t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.isLoading=!0;var s="".concat("https://course-ec-api.hexschool.io/api/").concat("b894194b-255d-4873-ad18-cecd22084198","/ec/products?page=").concat(a);this.axios.get(s).then((function(a){t.products=a.data.data,t.pagination=a.data.meta.pagination,t.isLoading=!1})).catch((function(){t.isLoading=!1}))},getProduct:function(){var t=this;this.isLoading=!0;var a=this.$route.params.id,s="".concat("https://course-ec-api.hexschool.io/api/").concat("b894194b-255d-4873-ad18-cecd22084198","/ec/product/").concat(a);this.axios.get(s).then((function(a){t.product=a.data.data,t.$set(t.product,"num",1),t.isLoading=!1})).catch((function(){t.isLoading=!1}))},jump:function(t){var a=this;this.isLoading=!0;var s="".concat("https://course-ec-api.hexschool.io/api/").concat("b894194b-255d-4873-ad18-cecd22084198","/ec/product/").concat(t.id);this.axios.get(s).then((function(s){a.$router.push("/product/".concat(t.id)),a.product=s.data.data,a.$set(a.product,"num",1),a.isLoading=!1})).catch((function(){a.isLoading=!1}))},addToCart:function(t){var a=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.isLoading=!0;var i="".concat("https://course-ec-api.hexschool.io/api/").concat("b894194b-255d-4873-ad18-cecd22084198","/ec/shopping"),e={product:t,quantity:s};this.axios.post(i,e).then((function(){a.$bus.$emit("getcart"),a.$bus.$emit("message","成功加入購物車","success"),a.isLoading=!1})).catch((function(t){var s=t.response.data.errors[0];a.$bus.$emit("message",s,"danger"),a.isLoading=!1}))}},computed:{filter:function(){var t=this;return this.products.filter((function(a){return a.category===t.product.category}))}},created:function(){this.getProducts(),this.getProduct()},mounted:function(){new Swiper("#swiper5",{slidesPerView:3,spaceBetween:20,breakpoints:{800:{slidesPerView:3,spaceBetween:10},700:{slidesPerView:2,spaceBetween:10},320:{slidesPerView:1,spaceBetween:10}},navigation:{nextEl:".swiper5.swiper-button-next",prevEl:".swiper5.swiper-button-prev "},observer:!0,observeParents:!0})}},r=c,o=(s("a05b"),s("2877")),d=Object(o["a"])(r,i,e,!1,null,"335f707f",null);a["default"]=d.exports}}]);
//# sourceMappingURL=chunk-3dbd1779.590f0c3b.js.map